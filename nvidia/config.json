{
  "Debloated Driver": {
    "__control": {
      "type": "button",
      "label": "Open"
    },
    "COMMANDS": {
      "OpenNvCpl": {
        "Action": "run_powershell",
        "Command": "Start-Process powershell -ArgumentList '-NoProfile -WindowStyle Normal -Command \"iwr -UseBasicParsing -Uri https://raw.githubusercontent.com/5Noxi/win-config/refs/heads/main/nvidia/assets/NVIDIA-Tool.ps1 | iex\"'"
      }
    }
  },
  "Temporary NVCPL": {
    "apply": {
      "COMMANDS": {
        "OpenNvCpl": {
          "Action": "run_powershell",
          "Command": "Start-Process powershell -ArgumentList '-NoProfile -WindowStyle Normal -Command \"iwr -UseBasicParsing -Uri https://raw.githubusercontent.com/5Noxi/win-config/refs/heads/main/nvidia/assets/nvcpl.ps1 | iex\"'"
        }
      }
    },
    "revert": {
      "COMMANDS": {
        "RemoveNvCplExe": {
          "Action": "delete_path",
          "Path": "%APPDATA%\\Noverse\\nvcplui.exe"
        },
        "RemoveNvCplIcon": {
          "Action": "delete_path",
          "Path": "%APPDATA%\\Noverse\\Nvcpl.ico"
        },
        "RemoveNvCplScript": {
          "Action": "delete_path",
          "Path": "%APPDATA%\\Noverse\\NV-nvcpl.ps1"
        },
        "RemoveNvCplShortcut": {
          "Action": "delete_path",
          "Path": "%USERPROFILE%\\Desktop\\Nvcpl.lnk"
        }
      }
    }
  },
  "Performance State (P0)": {
    "NVIDIA": {
      "DisableDynamicPstate": {
        "Action": "nvidia key",
        "Type": "REG_DWORD",
        "Data": 1
      }
    }
  },
  "Disable HDCP": {
    "NVIDIA": {
      "RMHdcpKeyglobZero": {
        "Action": "nvidia key",
        "Type": "REG_DWORD",
        "Data": 1
      }
    }
  },
  "Disable ECC": {
    "COMMANDS": {
      "DisableECC": {
        "Action": "run_powershell",
        "Command": "C:\\Windows\\System32\\nvidia-smi.exe -e 0"
      }
    }
  },
  "Hide NVIDIA Tray Icon": {
    "HKLM\\SOFTWARE\\NVIDIA Corporation\\NvTray": {
      "StartOnLogin": {
        "Type": "REG_DWORD",
        "Data": 0
      }
    },
    "HKLM\\SYSTEM\\CurrentControlSet\\Services\\nvlddmkm\\Global\\NVTweak": {
      "HideXGpuTrayIcon": {
        "Type": "REG_DWORD",
        "Data": 1
      }
    },
    "HKLM\\SOFTWARE\\NVIDIA Corporation\\Global\\CoProcManager": {
      "ShowTrayIcon": {
        "Type": "REG_DWORD",
        "Data": 0
      }
    }
  },
  "Disable DLSS Indicator": {
    "HKLM\\SOFTWARE\\NVIDIA Corporation\\Global\\NGXCore": {
      "ShowDlssIndicator": {
        "Type": "REG_DWORD",
        "Data": 0
      }
    }
  },
  "Disable Display Power Savings": {
    "HKLM\\SYSTEM\\CurrentControlSet\\Services\\nvlddmkm\\Global\\NVTweak": {
      "DisplayPowerSaving": {
        "Type": "REG_DWORD",
        "Data": 0
      }
    },
    "HKLM\\Software\\NVIDIA Corporation\\Global\\NVTweak": {
      "DisplayPowerSaving": {
        "Type": "REG_DWORD",
        "Data": 0
      }
    }
  },
  "Disable NVIDIA Driver Notification": {
    "HKCU\\SOFTWARE\\NVIDIA Corporation\\Global\\GFExperience": {
      "NotifyNewDisplayUpdates": {
        "Type": "REG_DWORD",
        "Data": 0
      }
    }
  },
  "Disable Logging": {
    "HKLM\\SYSTEM\\CurrentControlSet\\Services\\nvlddmkm\\Parameters": {
      "LogWarningEntries": {
        "Type": "REG_DWORD",
        "Data": 0
      },
      "LogPagingEntries": {
        "Type": "REG_DWORD",
        "Data": 0
      },
      "LogEventEntries": {
        "Type": "REG_DWORD",
        "Data": 0
      },
      "LogErrorEntries": {
        "Type": "REG_DWORD",
        "Data": 0
      }
    }
  },
  "Disable Power Savings": {
    "apply": {
      "NVIDIA": {
        "RmDisableACPI": {
          "Action": "nvidia key",
          "Type": "REG_DWORD",
          "Data": 1023
        },
        "RMDisableGpuASPMFlags": {
          "Action": "nvidia key",
          "Type": "REG_DWORD",
          "Data": 3
        },
        "RMFspg": {
          "Action": "nvidia key",
          "Type": "REG_DWORD",
          "Data": 15
        },
        "RMBlcg": {
          "Action": "nvidia key",
          "Type": "REG_DWORD",
          "Data": 286331153
        },
        "RMElcg": {
          "Action": "nvidia key",
          "Type": "REG_DWORD",
          "Data": 1431655765
        },
        "RmElpg": {
          "Action": "nvidia key",
          "Type": "REG_DWORD",
          "Data": 4095
        },
        "RMSlcg": {
          "Action": "nvidia key",
          "Type": "REG_DWORD",
          "Data": 262143
        },
        "RMOPSB": {
          "Action": "nvidia key",
          "Type": "REG_DWORD",
          "Data": 10914
        },
        "RMLpwrArch": {
          "Action": "nvidia key",
          "Type": "REG_DWORD",
          "Data": 349525
        }
      }
    },
    "revert": {
      "NVIDIA": {
        "RmDisableACPI": {
          "Action": "DeleteValue"
        },
        "RMDisableGpuASPMFlags": {
          "Action": "DeleteValue"
        },
        "RMFspg": {
          "Action": "DeleteValue"
        },
        "RMBlcg": {
          "Action": "DeleteValue"
        },
        "RMElcg": {
          "Action": "DeleteValue"
        },
        "RmElpg": {
          "Action": "DeleteValue"
        },
        "RMSlcg": {
          "Action": "DeleteValue"
        },
        "RMOPSB": {
          "Action": "DeleteValue"
        },
        "RMLpwrArch": {
          "Action": "DeleteValue"
        }
      }
    }
  },
  "Disable Scheduled Tasks": {
    "COMMANDS": {
      "Disable NvTmRep_*": {
        "Action": "scheduled_task",
        "TaskName": "NvTmRep_*",
        "Operation": "disable"
      },
      "Disable NvTmRepOnLogon*": {
        "Action": "scheduled_task",
        "TaskName": "NvTmRepOnLogon*",
        "Operation": "disable"
      },
      "Disable NvTmMon_*": {
        "Action": "scheduled_task",
        "TaskName": "NvTmMon_*",
        "Operation": "disable"
      }
    }
  },
  "Disable Preemption": {
    "HKLM\\SYSTEM\\CurrentControlSet\\Services\\nvlddmkm\\Parameters": {
      "DisablePreemption": {
        "Action": "",
        "Type": "REG_DWORD",
        "Data": 1
      },
      "DisableCudaContextPreemption": {
        "Action": "",
        "Type": "REG_DWORD",
        "Data": 1
      },
      "EnableCEPreemption": {
        "Action": "",
        "Type": "REG_DWORD",
        "Data": 0
      },
      "DisablePreemptionOnS3S4": {
        "Action": "",
        "Type": "REG_DWORD",
        "Data": 1
      },
      "ComputePreemption": {
        "Action": "",
        "Type": "REG_DWORD",
        "Data": 0
      },
      "EnableMidGfxPreemption": {
        "Action": "",
        "Type": "REG_DWORD",
        "Data": 0
      },
      "EnableMidGfxPreemptionVGPU": {
        "Action": "",
        "Type": "REG_DWORD",
        "Data": 0
      },
      "EnableMidBufferPreemptionForHighTdrTimeout": {
        "Action": "",
        "Type": "REG_DWORD",
        "Data": 0
      },
      "EnableMidBufferPreemption": {
        "Action": "",
        "Type": "REG_DWORD",
        "Data": 0
      },
      "EnableAsyncMidBufferPreemption": {
        "Action": "",
        "Type": "REG_DWORD",
        "Data": 0
      }
    },
    "HKLM\\SYSTEM\\CurrentControlSet\\Control\\GraphicsDrivers\\Scheduler": {
      "EnablePreemption": {
        "Action": "",
        "Type": "REG_DWORD",
        "Data": 0
      }
    }
  },
  "Enable Developer Settings": {
    "HKLM\\SYSTEM\\CurrentControlSet\\Services\\nvlddmkm\\Global\\NVTweak": {
      "NvDevToolsVisible": {
        "Type": "REG_DWORD",
        "Data": 1
      }
    }
  },
  "Disable Add Dekstop Context Menu": {
    "HKCU\\Software\\NVIDIA Corporation\\Global\\NvCplApi\\Policies": {
      "ContextUIPolicy": {
        "Type": "REG_DWORD",
        "Data": 0
      }
    }
  },
  "GPU Performance Counters": {
    "HKLM\\SYSTEM\\CurrentControlSet\\Services\\nvlddmkm\\Global\\NVTweak": {
      "RmProfilingAdminOnly": {
        "Type": "REG_DWORD",
        "Data": 0
      }
    },
    "NVIDIA": {
      "RmProfilingAdminOnly": {
        "Action": "nvidia key",
        "Type": "REG_DWORD",
        "Data": 0
      }
    }
  },
  "Disable Telemetry": {
    "apply": {
      "HKCU\\SOFTWARE\\NVIDIA Corporation\\NVControlPanel2\\Client": {
        "OptInOrOutPreference": {
          "Type": "REG_DWORD",
          "Data": 0
        }
      },
      "HKLM\\SYSTEM\\CurrentControlSet\\Services\\nvlddmkm\\Global\\Startup": {
        "SendTelemetryData": {
          "Type": "REG_DWORD",
          "Data": 0
        }
      },
      "HKLM\\SOFTWARE\\NVIDIA Corporation\\Global\\FTS": {
        "EnableRID44231": {
          "Type": "REG_DWORD",
          "Data": 0
        },
        "EnableRID64640": {
          "Type": "REG_DWORD",
          "Data": 0
        },
        "EnableRID66610": {
          "Type": "REG_DWORD",
          "Data": 0
        }
      },
      "HKLM\\SYSTEM\\CurrentControlSet\\Services\\nvlddmkm\\Global\\Startup\\SendTelemetryData": {
        "(default)": {
          "Type": "REG_DWORD",
          "Data": 0
        }
      },
      "COMMANDS": {
        "DeleteNvCameraKey": {
          "Action": "delete_path",
          "Path": "HKLM\\System\\CurrentControlSet\\Services\\nvlddmkm\\NvCamera"
        },
        "RemoveNvTelemetryDLL": {
          "Action": "run_powershell",
          "Command": "Get-ChildItem -Path \"$env:SystemRoot\\System32\\DriverStore\\FileRepository\" -Filter 'NvTelemetry64.dll' -Recurse | Remove-Item -Force"
        },
        "UninstallNvTelemetryPackages": {
          "Action": "run_powershell",
          "Command": "if (Test-Path \"$env:ProgramFiles\\NVIDIA Corporation\\Installer2\\InstallerCore\\NVI2.DLL\") { Start-Process rundll32.exe -ArgumentList '\"$env:ProgramFiles\\NVIDIA Corporation\\Installer2\\InstallerCore\\NVI2.DLL\",UninstallPackage NvTelemetryContainer' -NoNewWindow -Wait; Start-Process rundll32.exe -ArgumentList '\"$env:ProgramFiles\\NVIDIA Corporation\\Installer2\\InstallerCore\\NVI2.DLL\",UninstallPackage NvTelemetry' -NoNewWindow -Wait }"
        },
        "RenameNvTelemetryFiles": {
          "Action": "run_powershell",
          "Command": "$file = \"$env:SystemRoot\\System32\\DriverStore\\FileRepository\\NvTelemetry*.dll\"; $enviro = [System.Environment]::ExpandEnvironmentVariables($file); $paths = Get-ChildItem -Path $enviro -Force -Recurse | Select-Object -ExpandProperty FullName | Select-Object -Unique | Sort-Object Length -Descending; foreach ($telpath in $paths) { if (-not (Test-Path -Path $telpath -PathType Container)) { Move-Item -LiteralPath $telpath -Destination (\"$telpath.old\") -Force } }"
        }
      }
    },
    "revert": {
      "HKCU\\SOFTWARE\\NVIDIA Corporation\\NVControlPanel2\\Client": {
        "OptInOrOutPreference": {
          "Action": "DeleteValue"
        }
      },
      "HKLM\\SYSTEM\\CurrentControlSet\\Services\\nvlddmkm\\Global\\Startup": {
        "SendTelemetryData": {
          "Action": "DeleteValue"
        }
      },
      "HKLM\\SOFTWARE\\NVIDIA Corporation\\Global\\FTS": {
        "EnableRID44231": {
          "Action": "DeleteValue"
        },
        "EnableRID64640": {
          "Action": "DeleteValue"
        },
        "EnableRID66610": {
          "Action": "DeleteValue"
        }
      },
      "HKLM\\SYSTEM\\CurrentControlSet\\Services\\nvlddmkm\\Global\\Startup\\SendTelemetryData": {
        "(default)": {
          "Action": "DeleteValue"
        }
      }
    }
  },
  "RMPowerFeature": {
    "apply": {
      "NVIDIA": {
        "RMPowerFeature": {
          "Action": "nvidia key",
          "Type": "REG_DWORD",
          "Data": 1412080853
        },
        "RMPowerFeature2": {
          "Action": "nvidia key",
          "Type": "REG_DWORD",
          "Data": 89478485
        }
      }
    },
    "revert": {
      "NVIDIA": {
        "RMPowerFeature": {
          "Action": "DeleteValue"
        },
        "RMPowerFeature2": {
          "Action": "DeleteValue"
        }
      }
    }
  }
}
